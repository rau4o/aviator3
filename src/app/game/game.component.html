<div class="header">
  <div><img src="https://aviator-demo.spribegaming.com/aviator-logo.cafbd29233306bf7.svg" alt=""></div>
  <div class="balance ml-auto"><span>{{balance}}</span> USD</div>
  <div class="title" (click)="admin()">Admin</div>
</div>
<div class="body">
  <div class="graph-body">
    <div class="coefficient">
      <ng-container *ngFor="let coeff of coefficientList">
        <div class="item" [ngClass]="{
      'low': coeff.coefficient < 2,
      'middle': coeff.coefficient >= 2 && coeff.coefficient < 10,
      'high': coeff.coefficient >= 10}">
          {{coeff.coefficient | number: '1.2-2'}}x
        </div>
      </ng-container>
    </div>
    <div class="graph" style="margin-top: 10px;">
      <div *ngIf="isFlewAway" class="flex-away" style="z-index: 10;display: flex;flex-direction: column;font-size: 50px">
        VOLÓ LEJOS! <br>
        <span class="color-red" style="text-align: center">{{currentGame.coefficient.toFixed(2)}}</span>
      </div>
      <div class="sum" [ngClass]="{'color-red': isFlewAway}">
        <ng-container *ngIf="!isFlewAway && !showLoading && isGameStarting">
          {{startCoefficient.toFixed(2)}}x
        </ng-container>
      </div>
      <ng-container *ngIf="showLoading">
        <div class="sum" style="display: flex;flex-direction: column; align-items: center; justify-content: center; color: #ffffff">
          <span style="font-size: 18px;text-align: center">Esperando la próxima ronda</span>
          <img src="/assets/images/loading.svg" alt="" style="width: 50px; height: 50px;">
        </div>
      </ng-container>
      <div style="position: relative" id="lottie-container">
        <ng-lottie
          style="position: relative;z-index: 2"
          [options]="options"
          width="100%"
          height="460px"
          (animationCreated)="animationCreated($event)" />
        <ng-lottie
          style="position: absolute;top:0"
          [options]="optionBg"
          width="100%"
          height="220px"
          (animationCreated)="animationBgCreated($event)">
        </ng-lottie>
      </div>
    </div>
    <div class="bet-buttons-1">
      <app-bet style="width: 100%"
               className="win-1"
               [currentGame]="currentGame"
               [nextGame]="nextGame"
               [gameStatus]="gameStatus"
               [isBet]="isBet"
               [isAutoReached]="isAutoReached"
               [firstStatus]="firstStatus"
               [currentStatus]="currentStatus"
               [id]="'id1'"
               [id2]="'id2'"
               [startCoefficient]="startCoefficient"
               [isGameStarting]="isGameStarting"
               (passBalance)="onGetBalance($event)"
               (isBetExist)="onIsBetExist($event)"></app-bet>
      <app-bet style="width: 100%"
               className="win-2"
               [currentGame]="currentGame"
               [nextGame]="nextGame"
               [gameStatus]="gameStatus"
               [isBet]="isBet"
               [isAutoReached]="isAutoReached"
               [firstStatus]="firstStatus"
               [currentStatus]="currentStatus"
               [id]="'id1'"
               [id2]="'id2'"
               [startCoefficient]="startCoefficient"
               [isGameStarting]="isGameStarting"
               (passBalance)="onGetBalance($event)"
               (isBetExist)="onIsBetExist($event)"></app-bet>
    </div>
  </div>
  <div class="first-block class-table" style="width: 30%;height: 750px;">
    <table style="margin-bottom: auto;">
      <thead>
      <tr style="font-size: 12px">
        <th style="padding: 10px;width: 30px;">Fecha</th>
        <th style="width: 30px;">Usuario</th>
        <th style="width: 30px;">Apuesta USD</th>
        <th></th>
        <th style="width: 80px;">Retiro de efectivo USD</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let bet of userList; let i = index" [ngClass]="{'highlight': highlightedRows.includes(i)}">
        <td style="padding: 10px">{{bet.date}}</td>
        <td>{{bet.user}}</td>
        <td>{{bet.amount}}</td>
        <td>{{highlightedRows.includes(i) ? startCoefficients[i].toFixed(2) : ''}}</td>
        <td>{{highlightedRows.includes(i) ? (bet.amount * startCoefficients[i]).toFixed(2) : ''}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
